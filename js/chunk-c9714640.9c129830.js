(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c9714640","chunk-39f71dd7"],{"1b02":function(t,e,a){},"1f40":function(t,e,a){},"216c":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"nav"},[a("van-nav-bar",{attrs:{title:t.title,"left-text":"返回","left-arrow":"",fixed:"",placeholder:""},on:{"click-left":t.goPack}})],1)},s=[],n={name:"Nav",props:{title:{type:String,default:""}},methods:{goPack:function(){this.$emit("gopack")}}},o=n,r=(a("96a3"),a("2877")),c=Object(r["a"])(o,i,s,!1,null,"1dc54734",null);e["a"]=c.exports},"380f":function(t,e,a){"use strict";a("1b02")},"4c5f":function(t,e,a){},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var i=a("1d80"),s=a("5899"),n="["+s+"]",o=RegExp("^"+n+n+"*"),r=RegExp(n+n+"*$"),c=function(t){return function(e){var a=String(i(e));return 1&t&&(a=a.replace(o,"")),2&t&&(a=a.replace(r,"")),a}};t.exports={start:c(1),end:c(2),trim:c(3)}},"5d2b":function(t,e,a){"use strict";a("1f40")},"5f3c":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"orderInfo"},[a("div",{staticClass:"pay-Info"},[a("div",{staticClass:"InfoText clearfix"},[a("div",{staticClass:"info-text-title fl"},[t._v(t._s(t.InfoTextTitle))]),t.isShowRight?a("div",{staticClass:"right-Info fr"},[t.isLivery?a("div",{staticClass:"right-complete clearfix"},[a("div",{staticClass:"complete fl"},[t._v("已完成")]),a("div",{staticClass:"delete fr",on:{click:t.remove}},[a("van-icon",{attrs:{size:"20",name:"delete"}})],1)]):a("div",{staticClass:"right-livery",on:{click:t.confirmLivery}},[t._v("确认收货")])]):t._e()]),a("div",{staticClass:"pay-Pro-box"},[t._t("default")],2),a("div",{staticClass:"pay-combined"},[t._m(0),""!=t.dateTime?a("div",{staticClass:"dateTime"},[t._v(t._s(t.dateTime))]):t._e(),a("div",{staticClass:"paytotle"},[a("div",{staticClass:"pay-totle-count"},[t._v(" 共计 "),a("span",[t._v(t._s(t.proCount))]),t._v(" 件 ")]),a("div",{staticClass:"pay-total-money"},[t._v("合计 ￥"+t._s(t._f("filtration")(t.total)))])])])])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pay-circle"},[a("div",{staticClass:"circle circle-left"}),a("div",{staticClass:"circle circle-right"})])}],n=(a("a9e3"),{name:"OrderInfo",props:{InfoTextTitle:{type:String,default:"左边标题"},isShowRight:{type:Boolean,default:!1},dateTime:{type:String,default:" "},proCount:{type:Number,default:0},total:{type:[Number,String],default:0},isLivery:{type:Boolean,default:!1}},methods:{confirmLivery:function(){this.$emit("confirm-livery")},remove:function(){this.$emit("remove")}}}),o=n,r=(a("67bf"),a("2877")),c=Object(r["a"])(o,i,s,!1,null,"5decfef7",null);e["a"]=c.exports},"67bf":function(t,e,a){"use strict";a("762a")},"762a":function(t,e,a){},"96a3":function(t,e,a){"use strict";a("4c5f")},a434:function(t,e,a){"use strict";var i=a("23e7"),s=a("23cb"),n=a("a691"),o=a("50c4"),r=a("7b0b"),c=a("65f0"),l=a("8418"),d=a("1dde"),u=a("ae40"),f=d("splice"),p=u("splice",{ACCESSORS:!0,0:0,1:2}),v=Math.max,h=Math.min,m=9007199254740991,g="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!f||!p},{splice:function(t,e){var a,i,d,u,f,p,b=r(this),_=o(b.length),C=s(t,_),y=arguments.length;if(0===y?a=i=0:1===y?(a=0,i=_-C):(a=y-2,i=h(v(n(e),0),_-C)),_+a-i>m)throw TypeError(g);for(d=c(b,i),u=0;u<i;u++)f=C+u,f in b&&l(d,u,b[f]);if(d.length=i,a<i){for(u=C;u<_-i;u++)f=u+i,p=u+a,f in b?b[p]=b[f]:delete b[p];for(u=_;u>_-i+a;u--)delete b[u-1]}else if(a>i)for(u=_-i;u>C;u--)f=u+i-1,p=u+a-1,f in b?b[p]=b[f]:delete b[p];for(u=0;u<a;u++)b[u+C]=arguments[u+2];return b.length=_-i+a,d}})},a9e3:function(t,e,a){"use strict";var i=a("83ab"),s=a("da84"),n=a("94ca"),o=a("6eeb"),r=a("5135"),c=a("c6b6"),l=a("7156"),d=a("c04e"),u=a("d039"),f=a("7c73"),p=a("241c").f,v=a("06cf").f,h=a("9bf2").f,m=a("58a8").trim,g="Number",b=s[g],_=b.prototype,C=c(f(_))==g,y=function(t){var e,a,i,s,n,o,r,c,l=d(t,!1);if("string"==typeof l&&l.length>2)if(l=m(l),e=l.charCodeAt(0),43===e||45===e){if(a=l.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:i=2,s=49;break;case 79:case 111:i=8,s=55;break;default:return+l}for(n=l.slice(2),o=n.length,r=0;r<o;r++)if(c=n.charCodeAt(r),c<48||c>s)return NaN;return parseInt(n,i)}return+l};if(n(g,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var x,I=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof I&&(C?u((function(){_.valueOf.call(a)})):c(a)!=g)?l(new b(y(e)),a,I):y(e)},k=i?p(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),$=0;k.length>$;$++)r(b,x=k[$])&&!r(I,x)&&h(I,x,v(b,x));I.prototype=_,_.constructor=I,o(s,g,I)}},be7a:function(t,e,a){},cf2a:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order"},[a("van-popup",{style:{height:"30%",width:"70%"},attrs:{round:"",position:"center",closeable:""},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},t._l(t.puppopData,(function(e,i){return a("div",{key:i,staticClass:"orderPupup"},[a("div",{staticClass:"OrderText"},[t._v(t._s(e.oid))]),a("div",{staticClass:"OrderDress"},[a("div",{staticClass:"orderName"},[t._v("姓名："),a("span",[t._v(t._s(e.name))])]),a("div",{staticClass:"orderTel"},[t._v("电话："),a("span",[t._v(t._s(e.tel))])]),a("div",{staticClass:"orderDress"},[t._v("地址："),a("span",[t._v(t._s(e.address))])])])])})),0),a("div",[a("Nav",{attrs:{title:t.menuTitle},on:{gopack:t.goPack}})],1),a("AddRessList",[t.isProHas?a("div",[a("van-tabs",{attrs:{color:"#c38a60","title-active-color":"#c38a60","line-height":"2"},on:{change:t.titleTab},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},t._l(t.tabData,(function(e,i){return a("van-tab",{key:i,attrs:{title:e.title}},[t.orderData.length>0?a("div",t._l(t.orderData,(function(e,i){return a("div",{key:e.oid,staticClass:"order-box"},[a("OrderInfo",{attrs:{"info-text-title":e.oid,"date-time":t._f("formatDate")(e.date,"yyyy-MM-dd hh:mm:ss"),"pro-count":e.count,total:e.total,"is-show-right":!0,"is-livery":2==e.status},on:{"confirm-livery":function(a){return t.confirmLivery(e,i)},remove:function(a){return t.remove(e,i)}}},[a("div",{on:{click:function(a){return t.isPoppup(e)}}},t._l(e.data,(function(t,e){return a("ListModule",{key:e,attrs:{item:t}})})),1)])],1)})),0):a("div",[a("van-empty",{attrs:{description:"没有订单数据,马上去加入购物车吧!!!"}})],1)])})),1)],1):a("div",[a("van-empty",{attrs:{description:"没有订单数据,马上去加入购物车吧!!!"}})],1)])],1)},s=[],n=(a("d81d"),a("a434"),a("be7a"),a("eb4a")),o=a("5f3c"),r=a("f1dd"),c=a("216c"),l={name:"Order",data:function(){return{menuTitle:"我的订单",tabIndex:0,tabData:[{title:"全部"},{title:"进行中"},{title:"已完成"}],orderData:[],isProHas:!0,show:!1,puppopData:[]}},components:{AddRessList:n["default"],OrderInfo:o["a"],ListModule:r["a"],Nav:c["a"]},created:function(){this.getProStatusData()},methods:{goPack:function(){var t=this;this.$toast.loading({message:"加载中...",forbidClick:!0,duration:1500}),setTimeout((function(){t.$router.push({name:"Shopbag"})}),1500)},isPoppup:function(t){this.show=!0;var e={oid:t.oid,name:t.data[0].receiver,address:t.data[0].address,tel:t.data[0].phone},a=[];a.push(e),this.puppopData=a},titleTab:function(t,e){this.getProStatusData()},getProStatusData:function(){var t=this,e=localStorage.getItem("tokenStr");if(!e)return this.$toast("请先登录"),this.$router.push({name:"Login"});this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"GET",url:"/findOrder",params:{appkey:this.appkey,tokenString:e,status:this.tabIndex}}).then((function(e){if(t.$toast.clear(),700==e.data.code)t.$router.push({name:"Login"});else if(7e4==e.data.code){if(0==t.tabIndex&&0==e.data.result.length)return void(t.isProHas=!1);var a=[];e.data.result.map((function(t){for(var e=0;e<a.length;e++)if(a[e].oid==t.oid)return a[e].data.push(t),a[e].count+=t.count,void(a[e].total+=t.count*t.price);var i={};i.oid=t.oid,i.count=t.count,i.total=t.count*t.price,i.status=t.status,i.date=t.createdAt,i.data=[t],a.push(i)})),a=a.sort((function(t,e){return t.oid<e.oid?1:e.oid<t.oid?-1:0})),t.orderData=a}})).catch((function(t){}))},confirmLivery:function(t,e){var a=this,i=localStorage.getItem("tokenStr");if(!i)return this.$toast("请先登录"),this.$router.push({name:"Login"});this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"POST",url:"/receive",data:{appkey:this.appkey,tokenString:i,oid:t.oid}}).then((function(i){a.$toast.clear(),700==i.data.code?a.$router.push({name:"Login"}):8e4==i.data.code&&(1==a.tabIndex&&a.orderData.splice(e,1),t.status=2),a.$toast(i.data.msg)})).catch((function(t){}))},remove:function(t,e){var a=this,i=localStorage.getItem("tokenStr");if(!i)return this.$toast("请先登录"),this.$router.push({name:"Login"});this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"POST",url:"/removeOrder",data:{appkey:this.appkey,tokenString:i,oid:t.oid}}).then((function(t){a.$toast.clear(),700==t.data.code?a.$router.push({name:"Login"}):(t.data.code=9e4)&&a.orderData.splice(e,1),a.$toast(t.data.msg)})).catch((function(t){a.$toast.clear()}))}}},d=l,u=a("2877"),f=Object(u["a"])(d,i,s,!1,null,"0c35ecfe",null);e["default"]=f.exports},d81d:function(t,e,a){"use strict";var i=a("23e7"),s=a("b727").map,n=a("1dde"),o=a("ae40"),r=n("map"),c=o("map");i({target:"Array",proto:!0,forced:!r||!c},{map:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},eb4a:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"addRessList"},[a("div",{staticClass:"bg"}),a("div",{staticClass:"contain"},[t._t("default")],2)])},s=[],n={name:"AddRessList"},o=n,r=(a("380f"),a("2877")),c=Object(r["a"])(o,i,s,!1,null,"97b63bee",null);e["default"]=c.exports},f1dd:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"listModule"},[a("div",{staticClass:"pay-Info-box"},[a("div",{staticClass:"pay-product-Info"},[a("div",{staticClass:"pay-info-img"},[a("img",{staticClass:"auto-img",attrs:{src:t.item.small_img||t.item.smallImg,alt:""}})]),a("div",{staticClass:"pay-info-con"},[a("div",{staticClass:"pay-info-text"},[a("div",[a("div",{staticClass:"pay-name"},[t._v(t._s(t.item.name))]),a("div",{staticClass:"pay-rule"},[t._v(t._s(t.item.rule))])]),a("div",{staticClass:"pay-enname"},[t._v(t._s(t.item.enname))])]),a("div",{staticClass:"pay-count-box"},[a("div",{staticClass:"pay-price"},[t._v("￥"+t._s(t.item.price))]),a("div",[t.isNumerical?a("div",{staticClass:"count-box"},[a("van-stepper",{attrs:{theme:"round","button-size":"20","disable-input":""},on:{change:t.changeCount},model:{value:t.vanCount,callback:function(e){t.vanCount=e},expression:"vanCount"}})],1):a("div",{staticClass:"count-box"},[t._v("x"+t._s(t.item.count))])])])])])])])},s=[],n={name:"ListModule",props:{item:{type:Object,default:function(){return{}}},isNumerical:{type:Boolean,default:!1}},data:function(){return{vanCount:0}},created:function(){this.vanCount=this.item.count},methods:{changeCount:function(){this.item.count=this.vanCount,this.$emit("coo",this.item)}}},o=n,r=(a("5d2b"),a("2877")),c=Object(r["a"])(o,i,s,!1,null,"70ebfa2f",null);e["a"]=c.exports}}]);
//# sourceMappingURL=chunk-c9714640.9c129830.js.map